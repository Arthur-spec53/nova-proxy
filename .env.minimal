# Nova Proxy 轻量级环境配置
# 专为低配置环境优化的设置

# ============================================================================
# 基础配置
# ============================================================================

# 构建版本信息
BUILD_VERSION=1.0.0-minimal
BUILD_COMMIT=unknown
BUILD_DATE=unknown

# 日志级别 (warn 减少日志输出)
LOG_LEVEL=warn

# 运行模式
ENVIRONMENT=minimal

# ============================================================================
# 性能优化配置
# ============================================================================

# 禁用指标收集以节省资源
METRICS_ENABLED=false

# 健康检查优化
HEALTH_CHECK_INTERVAL=60s
HEALTH_CHECK_TIMEOUT=5s
HEALTH_CHECK_RETRIES=2

# Go 运行时优化
GOMAXPROCS=1
GOGC=200

# ============================================================================
# 监控配置 (可选)
# ============================================================================

# Grafana 配置
GRAFANA_PASSWORD=admin123

# Prometheus 数据保留
PROMETHEUS_RETENTION_TIME=7d
PROMETHEUS_RETENTION_SIZE=1GB

# ============================================================================
# 资源限制
# ============================================================================

# Nova Server 资源限制
NOVA_MEMORY_LIMIT=256M
NOVA_CPU_LIMIT=0.5
NOVA_MEMORY_RESERVATION=128M
NOVA_CPU_RESERVATION=0.25

# Prometheus 资源限制
PROMETHEUS_MEMORY_LIMIT=512M
PROMETHEUS_CPU_LIMIT=0.5
PROMETHEUS_MEMORY_RESERVATION=256M
PROMETHEUS_CPU_RESERVATION=0.25

# Grafana 资源限制
GRAFANA_MEMORY_LIMIT=256M
GRAFANA_CPU_LIMIT=0.3
GRAFANA_MEMORY_RESERVATION=128M
GRAFANA_CPU_RESERVATION=0.1